<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HN-Center Mental Math</title>
</head>
<body style="font-family: Arial, sans-serif; text-align: center;">

  <h1>🎓 HN-Center Mental Math</h1>
  <div id="user-info" style="margin:20px;"></div>
  <button id="login-btn">تسجيل الدخول بحساب Google</button>
  <button id="logout-btn" style="display:none;">تسجيل الخروج</button>

  <div id="game" style="display:none;">
    <h2>العب وجمع النقاط!</h2>
    <p id="question"></p>
    <input id="answer" type="number" placeholder="اكتب جوابك">
    <button onclick="checkAnswer()">إرسال</button>
    <p id="feedback"></p>
    <p>النتيجة: <span id="score">0</span></p>
  </div>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

  <script>
    // ⚠️ حطي بيانات مشروعك هون من Firebase Console
    const firebaseConfig = {
      apiKey: "// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyCc5z1m7qYrBhwosbp7XNQK2vgSjDgz8yE",
  authDomain: "hn-center.firebaseapp.com",
  projectId: "hn-center",
  storageBucket: "hn-center.firebasestorage.app",
  messagingSenderId: "985828603143",
  appId: "1:985828603143:web:499128a547e5d95fc401a2",
  measurementId: "G-3XX7HH5G7S"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);",
      authDomain: "// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyCc5z1m7qYrBhwosbp7XNQK2vgSjDgz8yE",
  authDomain: "hn-center.firebaseapp.com",
  projectId: "hn-center",
  storageBucket: "hn-center.firebasestorage.app",
  messagingSenderId: "985828603143",
  appId: "1:985828603143:web:499128a547e5d95fc401a2",
  measurementId: "G-3XX7HH5G7S"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);.firebaseapp.com",
      projectId: "// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyCc5z1m7qYrBhwosbp7XNQK2vgSjDgz8yE",
  authDomain: "hn-center.firebaseapp.com",
  projectId: "hn-center",
  storageBucket: "hn-center.firebasestorage.app",
  messagingSenderId: "985828603143",
  appId: "1:985828603143:web:499128a547e5d95fc401a2",
  measurementId: "G-3XX7HH5G7S"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);",
      storageBucket: "XXXX.appspot.com",
      messagingSenderId: "// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyCc5z1m7qYrBhwosbp7XNQK2vgSjDgz8yE",
  authDomain: "hn-center.firebaseapp.com",
  projectId: "hn-center",
  storageBucket: "hn-center.firebasestorage.app",
  messagingSenderId: "985828603143",
  appId: "1:985828603143:web:499128a547e5d95fc401a2",
  measurementId: "G-3XX7HH5G7S"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);",
      appId: "// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyCc5z1m7qYrBhwosbp7XNQK2vgSjDgz8yE",
  authDomain: "hn-center.firebaseapp.com",
  projectId: "hn-center",
  storageBucket: "hn-center.firebasestorage.app",
  messagingSenderId: "985828603143",
  appId: "1:985828603143:web:499128a547e5d95fc401a2",
  measurementId: "G-3XX7HH5G7S"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);"
    };

    // تشغيل Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    let currentUser = null;
    let score = 0;
    let num1, num2;

    // تسجيل الدخول بجوجل
    document.getElementById("login-btn").addEventListener("click", () => {
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider);
    });

    // تسجيل الخروج
    document.getElementById("logout-btn").addEventListener("click", () => {
      auth.signOut();
    });

    // متابعة حالة المستخدم
    auth.onAuthStateChanged(user => {
      if (user) {
        currentUser = user;
        document.getElementById("user-info").innerHTML = `مرحباً، ${user.displayName}`;
        document.getElementById("login-btn").style.display = "none";
        document.getElementById("logout-btn").style.display = "inline";
        document.getElementById("game").style.display = "block";
        startGame();
      } else {
        currentUser = null;
        document.getElementById("user-info").innerHTML = "";
        document.getElementById("login-btn").style.display = "inline";
        document.getElementById("logout-btn").style.display = "none";
        document.getElementById("game").style.display = "none";
      }
    });

    // لعبة بسيطة (جمع)
    function startGame() {
      num1 = Math.floor(Math.random() * 10);
      num2 = Math.floor(Math.random() * 10);
      document.getElementById("question").innerText = `كم حاصل ${num1} + ${num2} ؟`;
    }

    function checkAnswer() {
      const ans = parseInt(document.getElementById("answer").value);
      if (ans === num1 + num2) {
        document.getElementById("feedback").innerText = "صح ✅";
        score++;
      } else {
        document.getElementById("feedback").innerText = "غلط ❌";
      }
      document.getElementById("score").innerText = score;

      // حفظ النتيجة
      if (currentUser) {
        db.collection("results").add({
          uid: currentUser.uid,
          name: currentUser.displayName,
          score: score,
          date: new Date().toISOString()
        });
      }

      startGame();
    }
  </script>
</body>
</html>
